{"remainingRequest":"/Users/weiweiwei/code/projects/clockin/node_modules/babel-loader/lib/index.js!/Users/weiweiwei/code/projects/clockin/src/directive/scrollbar/index.js","dependencies":[{"path":"/Users/weiweiwei/code/projects/clockin/src/directive/scrollbar/index.js","mtime":1691388929651},{"path":"/Users/weiweiwei/code/projects/clockin/babel.config.js","mtime":1690970233489},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKLy/oh6rlrprkuYnmu5rliqjmnaEKaW1wb3J0IFBlcmZlY3RTY3JvbGxiYXIgZnJvbSAncGVyZmVjdC1zY3JvbGxiYXInOwovL+WvueW6lOeahGNzcwppbXBvcnQgJ3BlcmZlY3Qtc2Nyb2xsYmFyL2Nzcy9wZXJmZWN0LXNjcm9sbGJhci5jc3MnOwp2YXIgdXBkYXRlU2Nyb2xsQmFyID0gZnVuY3Rpb24gdXBkYXRlU2Nyb2xsQmFyKGVsKSB7CiAgdmFyIHJhaWxYID0gZWwucXVlcnlTZWxlY3RvcignLnBzX19yYWlsLXgnKTsKICB2YXIgX3Rib2R5ID0gZWw7IC8vZWzkuLrooajmoLzlrrnlmagKICAvLyDlpoLmnpx0YWJsZeWGhemDqOi/mOaciea7muWKqOadoeeahOivnemcgOimgeWKoOS4il90Ym9keS5zY3JvbGxUb3AKICAvLyDop4blj6PnmoTpq5jluqYtdGJvZHnln7rkuo7op4blj6PnmoR0b3DlgLwt5qiq5ZCR5rua5Yqo5p2h5a655Zmo55qE6auY5bqmCiAgdmFyIF90b3AgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBfdGJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gcmFpbFguY2xpZW50SGVpZ2h0OwogIHJhaWxYLnN0eWxlLnRvcCA9ICIiLmNvbmNhdChfdG9wLCAicHgiKTsKICByYWlsWC5zdHlsZS5vcGFjaXR5ID0gJzEnOwogIHJhaWxYLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwp9OwoKLy8g5L2/55So5o+S5Lu25Yib5bu65rua5Yqo5p2hCnZhciBlbF9zY3JvbGxCYXIgPSBmdW5jdGlvbiBlbF9zY3JvbGxCYXIoZWwpIHsKICAvLyDlnKjlhYPntKDkuIrliqDngrnnp4HmtLss5ZCN5a2X6ZqP5L6/5Y+WLOehruS/neS4jeS8muWSjOW3suacieWxnuaAp+mHjeWkjeWNs+WPryzlj5blkI3lj6vlgZpfcHNfCiAgaWYgKGVsLl9wc18gaW5zdGFuY2VvZiBQZXJmZWN0U2Nyb2xsYmFyKSB7CiAgICBlbC5fcHNfLnVwZGF0ZSgpOwogIH0gZWxzZSB7CiAgICAvLyBlbOS4iuaMguS4gOS7veWxnuaApwogICAgZWwuX3BzXyA9IG5ldyBQZXJmZWN0U2Nyb2xsYmFyKGVsLCB7CiAgICAgIHN1cHByZXNzU2Nyb2xsWDogZmFsc2UsCiAgICAgIHN1cHByZXNzU2Nyb2xsWTogdHJ1ZSAvL3nmlrnlkJHnpoHmraIKICAgIH0pOwogIH0KfTsKCnZhciBpc1Njcm9sbGluZyA9IGZhbHNlOwp2YXIgX3Njcm9sbEhhbmRlciA9IG51bGw7CnZhciBfcmVzaXplSGFuZGVyID0gbnVsbDsKCi8vIOiHquWumuS5iXZ1ZeaMh+S7pApleHBvcnQgZGVmYXVsdCB7CiAgLy8gaW5zZXJ0ZWQo5Yid5qyh5Yib5bu6ZG9tKeiOt+WPluS9v+eUqOiHquWumuS5ieaMh+S7pOWkhOeahGRvbQogIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCkgewogICAgZWwgPSBlbC5xdWVyeVNlbGVjdG9yKCcuZWwtdGFibGVfX2JvZHktd3JhcHBlcicpOwogICAgaWYgKCFlbCkgewogICAgICByZXR1cm4gY29uc29sZS53YXJuKCfmnKrlj5HnjrBjbGFzc05hbWXkuLplbC10YWJsZV9fYm9keS13cmFwcGVy55qEZG9tJyk7CiAgICB9CiAgICAvLyDliKTmlq3lhbbmoLflvI/mmK/lkKblrZjlnKhwb3NpdGlvbizlubbkuJRwb3NpdGlvbuS4uiJmaXhlZCIsImFic29sdXRlIizmiJYicmVsYXRpdmUiCiAgICAvLyDlpoLmnpzkuI3nrKblkIjmnaHku7Ys5oqb5Liq6ZSZ6K+vLOW9k+eEtuS9oOS5n+WPr+S7peaKm+S4quitpuWRiumhuuS+v+e7meWFtnBvc2l0aW9u6Ieq5Yqo5Yqg5LiKInJlbGF0aXZlIgogICAgLy8g5Li65LuA5LmI6KaB6L+Z5qC35YGa5ZGiLOWboOS4ulByZWZlY3RTY3JvbGxiYXLlrp7njrDljp/nkIblsLHmmK9kb23ms6jlhaXkuKTkuKpkaXYs5LiA5Liq5piveOi9tOS4gOS4quaYr3novbQs5LuW5Lus5Lik55qEcG9zaXRpb27pg73mmK9hYnNvbHV0ZQogICAgLy/lr7ljc3PnqI3mnInluLjor4bnmoTkurrpg73nn6XpgZPvvIxhYnNvbHV0ZeaYr+ebuOWvueS6juaJgOacieeItuiKgueCuemHjOiuvue9ruS6hnBvc2l0aW9u5bGe5oCn55qE5pyA6L+R55qE5LiA5Liq6IqC54K55p2l5a6a5L2N55qE77yM5Li65LqG6IO95aSf5q2j56Gu5a6a5L2N77yM5oiR5Lus6KaB57uZ5YW26K6+572ucG9zaXRpb27lsZ7mgKcKICAgIHZhciBydWxlcyA9IFsnZml4ZWQnLCAnYWJzb2x1dGUnLCAncmVsYXRpdmUnXTsKICAgIGlmICghcnVsZXMuaW5jbHVkZXMod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLnBvc2l0aW9uKSkgewogICAgICBjb25zb2xlLmVycm9yKCJwZXJmZWN0LXNjcm9sbGJhclx1NjI0MFx1NTcyOFx1NzY4NFx1NUJCOVx1NTY2OFx1NzY4NHBvc2l0aW9uXHU1QzVFXHU2MDI3XHU1RkM1XHU5ODdCXHU2NjJGXHU0RUU1XHU0RTBCXHU0RTRCXHU0RTAwXHVGRjFBIi5jb25jYXQocnVsZXMuam9pbign44CBJykpKTsKICAgIH0KICAgIC8vIGVs5LiK5oyC5LiA5Lu95bGe5oCnCiAgICBlbF9zY3JvbGxCYXIoZWwpOwogICAgdXBkYXRlU2Nyb2xsQmFyKGVsKTsKCiAgICAvL+azqOWGjHNjcm9sbOWSjHJlc2l6ZeS6i+S7tgogICAgX3Njcm9sbEhhbmRlciA9IGZ1bmN0aW9uIF9zY3JvbGxIYW5kZXIoKSB7CiAgICAgIGlmICghaXNTY3JvbGxpbmcpIHsKICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHVwZGF0ZVNjcm9sbEJhcihlbCk7CiAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTsKICAgIH07CiAgICBfcmVzaXplSGFuZGVyID0gZnVuY3Rpb24gX3Jlc2l6ZUhhbmRlcigpIHsKICAgICAgdXBkYXRlU2Nyb2xsQmFyKGVsKTsKICAgIH07CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfc2Nyb2xsSGFuZGVyKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfcmVzaXplSGFuZGVyKTsKICB9LAogIC8vIOabtOaWsGRvbueahOaXtuWAmQogIGNvbXBvbmVudFVwZGF0ZWQ6IGZ1bmN0aW9uIGNvbXBvbmVudFVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgICB2YXIgZXhwcmVzc2lvbiA9IGJpbmRpbmcuZXhwcmVzc2lvbjsKICAgIGVsID0gZWwucXVlcnlTZWxlY3RvcignLmVsLXRhYmxlX19ib2R5LXdyYXBwZXInKTsKICAgIGlmICghZWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUud2Fybign5pyq5Y+R546wY2xhc3NOYW1l5Li6ZWwtdGFibGVfX2JvZHktd3JhcHBlcueahGRvbScpOwogICAgfQogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICByZXR1cm4gdm5vZGUuY29udGV4dFtleHByZXNzaW9uXS5hcHBseSgpOwogICAgfTsKCiAgICAvLyB2bm9kZS5jb250ZXh05YW25a6e5bCx5pivdnVl5a6e5L6LLOi/memHjOWFtuWunuaXoOmcgOWunuS+i+S5n+ebtOaOpeeUqHZ1ZeeahOmdmeaAgeaWueazlQogICAgdm5vZGUuY29udGV4dC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICB0cnkgewogICAgICAgIGVsX3Njcm9sbEJhcihlbCk7CiAgICAgICAgdXBkYXRlU2Nyb2xsQmFyKGVsKTsKICAgICAgICBpZiAoZXhwcmVzc2lvbikgewogICAgICAgICAgaGFuZGxlcigpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfQogICAgfSk7CiAgfSwKICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF9zY3JvbGxIYW5kZXIpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF9yZXNpemVIYW5kZXIpOwogIH0KfTs="},{"version":3,"names":["PerfectScrollbar","updateScrollBar","el","railX","querySelector","_tbody","_top","window","innerHeight","getBoundingClientRect","top","clientHeight","style","concat","opacity","display","el_scrollBar","_ps_","update","suppressScrollX","suppressScrollY","isScrolling","_scrollHander","_resizeHander","inserted","console","warn","rules","includes","getComputedStyle","position","error","join","requestAnimationFrame","document","addEventListener","componentUpdated","binding","vnode","expression","handler","context","apply","$nextTick","unbind","removeEventListener"],"sources":["/Users/weiweiwei/code/projects/clockin/src/directive/scrollbar/index.js"],"sourcesContent":["//自定义滚动条\nimport PerfectScrollbar from 'perfect-scrollbar'\n//对应的css\nimport 'perfect-scrollbar/css/perfect-scrollbar.css'\n \nconst updateScrollBar = el => {\n  const railX = el.querySelector('.ps__rail-x')\n  const _tbody = el //el为表格容器\n  // 如果table内部还有滚动条的话需要加上_tbody.scrollTop\n  // 视口的高度-tbody基于视口的top值-横向滚动条容器的高度\n  const _top = window.innerHeight - _tbody.getBoundingClientRect().top - railX.clientHeight\n  railX.style.top = `${_top}px`\n  railX.style.opacity = '1'\n  railX.style.display = 'block'\n}\n \n// 使用插件创建滚动条\nconst el_scrollBar = el => {\n  // 在元素上加点私活,名字随便取,确保不会和已有属性重复即可,取名叫做_ps_\n  if (el._ps_ instanceof PerfectScrollbar) {\n    el._ps_.update()\n  } else {\n    // el上挂一份属性\n    el._ps_ = new PerfectScrollbar(el, {\n      suppressScrollX: false,\n      suppressScrollY: true //y方向禁止\n    })\n  }\n}\n \nlet isScrolling = false\nlet _scrollHander = null\nlet _resizeHander = null\n \n// 自定义vue指令\nexport default {\n  // inserted(初次创建dom)获取使用自定义指令处的dom\n  inserted(el) {\n    el = el.querySelector('.el-table__body-wrapper')\n    if (!el) {\n      return console.warn('未发现className为el-table__body-wrapper的dom')\n    }\n    // 判断其样式是否存在position,并且position为\"fixed\",\"absolute\",或\"relative\"\n    // 如果不符合条件,抛个错误,当然你也可以抛个警告顺便给其position自动加上\"relative\"\n    // 为什么要这样做呢,因为PrefectScrollbar实现原理就是dom注入两个div,一个是x轴一个是y轴,他们两的position都是absolute\n    //对css稍有常识的人都知道，absolute是相对于所有父节点里设置了position属性的最近的一个节点来定位的，为了能够正确定位，我们要给其设置position属性\n    const rules = ['fixed', 'absolute', 'relative']\n    if (!rules.includes(window.getComputedStyle(el, null).position)) {\n      console.error(`perfect-scrollbar所在的容器的position属性必须是以下之一：${rules.join('、')}`)\n    }\n    // el上挂一份属性\n    el_scrollBar(el)\n    updateScrollBar(el)\n \n    //注册scroll和resize事件\n    _scrollHander = () => {\n      if (!isScrolling) {\n        window.requestAnimationFrame(() => {\n          updateScrollBar(el)\n          isScrolling = false\n        })\n      }\n      isScrolling = true\n    }\n \n    _resizeHander = () => {\n      updateScrollBar(el)\n    }\n \n    document.addEventListener('scroll', _scrollHander)\n    window.addEventListener('resize', _resizeHander)\n  },\n  // 更新don的时候\n  componentUpdated(el, binding, vnode) {\n    const { expression } = binding\n \n    el = el.querySelector('.el-table__body-wrapper')\n    if (!el) {\n      return console.warn('未发现className为el-table__body-wrapper的dom')\n    }\n \n    const handler = () => vnode.context[expression].apply()\n \n    // vnode.context其实就是vue实例,这里其实无需实例也直接用vue的静态方法\n    vnode.context.$nextTick(() => {\n      try {\n        el_scrollBar(el)\n        updateScrollBar(el)\n        if (expression) {\n          handler()\n        }\n      } catch (error) {\n        console.error(error)\n      }\n    })\n  },\n  unbind() {\n    document.removeEventListener('scroll', _scrollHander)\n    window.removeEventListener('resize', _resizeHander)\n  }\n}"],"mappings":"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"}]}