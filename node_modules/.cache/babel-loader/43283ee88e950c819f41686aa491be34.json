{"remainingRequest":"/Users/weiweiwei/code/projects/clockin/node_modules/babel-loader/lib/index.js!/Users/weiweiwei/code/projects/clockin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/weiweiwei/code/projects/clockin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weiweiwei/code/projects/clockin/src/views/product/gxy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weiweiwei/code/projects/clockin/src/views/product/gxy.vue","mtime":1693214115589},{"path":"/Users/weiweiwei/code/projects/clockin/babel.config.js","mtime":1690970233489},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldCwgc2F2ZSB9IGZyb20gIkAvYXBpL3Byb2R1Y3QvZ3h5IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVOYW1lOiAnY2xvY2tfaW5zJywKICAgICAgZm9ybTogewogICAgICAgIGNsb2NrX2luczogW10sCiAgICAgICAgcmVwb3J0czogW10sCiAgICAgICAgZnVsbHM6IFtdCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WQjeensOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHByaWNlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5Lu35qC85LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgZGF5OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5aSp5pWw5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLmZvcm0gPSByZXMuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkRGF5OiBmdW5jdGlvbiBhZGREYXkoKSB7CiAgICAgIHRoaXMuZm9ybVt0aGlzLmFjdGl2ZU5hbWVdLnB1c2goewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIGRheTogMAogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShpbmRleCkgewogICAgICB0aGlzLmZvcm1bdGhpcy5hY3RpdmVOYW1lXS5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybSk7CiAgICAgIHRoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBzYXZlKHsKICAgICAgICAgICAgZGF0YTogX3RoaXMyLmZvcm0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzmiJDlip8iLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["get","save","data","activeName","form","clock_ins","reports","fulls","rules","name","required","message","trigger","price","day","created","_this","then","res","methods","addDay","push","remove","index","splice","onSubmit","_this2","console","log","$refs","ruleForm","validate","valid","code","$message","type"],"sources":["src/views/product/gxy.vue"],"sourcesContent":["<template>\n    <div class=\"app-container\">\n        <el-form ref=\"ruleForm\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n            <el-tabs v-model=\"activeName\">\n                <el-tab-pane label=\"打卡\" name=\"clock_ins\">\n                    <el-form-item\n                        v-for=\"(item, index) in form.clock_ins\"\n                        :key=\"index\"\n                        required\n                        label-width=\"0\"\n                    >\n                        <el-row :gutter=\"20\">\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"名称\" :prop=\"'clock_ins.'+index+'.name'\" :rules=\"rules.name\">\n                                    <el-input placeholder=\"请输入名称\" v-model=\"item.name\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"价格\" :prop=\"'clock_ins.'+index+'.price'\" :rules=\"rules.price\">\n                                    <el-input-number placeholder=\"请输入价格\" v-model=\"item.price\" :precision=\"2\" :step=\"0.1\"></el-input-number>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"时间\" :prop=\"'clock_ins.'+index+'.day'\" :rules=\"rules.day\">\n                                    <el-input type=\"number\" placeholder=\"请输入有效天数\" v-model=\"item.day\">\n                                        <template slot=\"append\">天</template>\n                                    </el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-button @click.prevent=\"remove(index)\">删除</el-button>\n                            </el-col>\n                        </el-row>\n                        \n                    </el-form-item>\n                </el-tab-pane>\n                <el-tab-pane label=\"报告\" name=\"reports\">\n                    <el-form-item\n                        v-for=\"(item, index) in form.reports\"\n                        :key=\"index\"\n                        required\n                        label-width=\"0\"\n                    >\n                        <el-row :gutter=\"20\">\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"名称\" :prop=\"'reports.'+index+'.name'\" :rules=\"rules.name\">\n                                    <el-input placeholder=\"请输入名称\" v-model=\"item.name\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"价格\" :prop=\"'reports.'+index+'.price'\" :rules=\"rules.price\">\n                                    <el-input-number placeholder=\"请输入价格\" v-model=\"item.price\" :precision=\"2\" :step=\"0.1\"></el-input-number>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"时间\" :prop=\"'reports.'+index+'.day'\" :rules=\"rules.day\">\n                                    <el-input type=\"number\" placeholder=\"请输入有效天数\" v-model=\"item.day\">\n                                        <template slot=\"append\">天</template>\n                                    </el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-button @click.prevent=\"remove(index)\">删除</el-button>\n                            </el-col>\n                        </el-row>\n                        \n                    </el-form-item>\n                </el-tab-pane>\n                <el-tab-pane label=\"全包\" name=\"fulls\">\n                    <el-form-item\n                        v-for=\"(item, index) in form.fulls\"\n                        :key=\"index\"\n                        required\n                        label-width=\"0\"\n                    >\n                        <el-row :gutter=\"20\">\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"名称\" :prop=\"'fulls.'+index+'.name'\" :rules=\"rules.name\">\n                                    <el-input placeholder=\"请输入名称\" v-model=\"item.name\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"价格\" :prop=\"'fulls.'+index+'.price'\" :rules=\"rules.price\">\n                                    <el-input-number placeholder=\"请输入价格\" v-model=\"item.price\" :precision=\"2\" :step=\"0.1\"></el-input-number>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"时间\" :prop=\"'fulls.'+index+'.day'\" :rules=\"rules.day\">\n                                    <el-input type=\"number\" placeholder=\"请输入有效天数\" v-model=\"item.day\">\n                                        <template slot=\"append\">天</template>\n                                    </el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-button @click.prevent=\"remove(index)\">删除</el-button>\n                            </el-col>\n                        </el-row>\n                        \n                    </el-form-item>\n                </el-tab-pane>\n            </el-tabs>\n            <el-form-item>\n                <el-button @click=\"addDay\">新增时间</el-button>\n                <el-button type=\"primary\" @click=\"onSubmit\" v-throttle=\"2000\">提交</el-button>\n            </el-form-item>\n            \n        </el-form>\n    </div>\n</template>\n<script>\nimport { get, save } from \"@/api/product/gxy\";\nexport default {\n    data() {\n        return {\n            activeName: 'clock_ins',\n            form: {\n                clock_ins: [],\n                reports: [],\n                fulls: []\n            },\n            rules: {\n                name: [\n                    { required: true, message: '名称不能为空', trigger: 'change' }\n                ],\n                price: [\n                    { required: true, message: '价格不能为空', trigger: 'change' }\n                ],\n                day: [\n                    { required: true, message: '天数不能为空', trigger: 'change' }\n                ],\n            }\n        };\n    },\n    created: function(){\n        get().then(res=>{\n            this.form = res.data\n        })\n    },\n    methods: {\n        addDay(){\n            this.form[this.activeName].push({\n                name: '',\n                price: 0,\n                day: 0,\n            });\n        },\n        remove(index){\n            this.form[this.activeName].splice(index, 1)\n        },\n        onSubmit() {\n            console.log(this.form)\n            this.$refs.ruleForm.validate((valid) => {\n                if(valid){\n                    save({\n                        data: this.form\n                    }).then(res=>{\n                        if(res.code == 200){\n                            this.$message({\n                                message: \"操作成功\",\n                                type: \"success\"\n                            })\n                        }\n                    })\n                }\n            })\n        }\n    }\n};\n</script>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA,SAAAA,GAAA,EAAAC,IAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,KAAA;MACA;MACAC,KAAA;QACAC,IAAA,GACA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAC,KAAA,GACA;UAAAH,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAE,GAAA,GACA;UAAAJ,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAG,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACAhB,GAAA,GAAAiB,IAAA,WAAAC,GAAA;MACAF,KAAA,CAAAZ,IAAA,GAAAc,GAAA,CAAAhB,IAAA;IACA;EACA;EACAiB,OAAA;IACAC,MAAA,WAAAA,OAAA;MACA,KAAAhB,IAAA,MAAAD,UAAA,EAAAkB,IAAA;QACAZ,IAAA;QACAI,KAAA;QACAC,GAAA;MACA;IACA;IACAQ,MAAA,WAAAA,OAAAC,KAAA;MACA,KAAAnB,IAAA,MAAAD,UAAA,EAAAqB,MAAA,CAAAD,KAAA;IACA;IACAE,QAAA,WAAAA,SAAA;MAAA,IAAAC,MAAA;MACAC,OAAA,CAAAC,GAAA,MAAAxB,IAAA;MACA,KAAAyB,KAAA,CAAAC,QAAA,CAAAC,QAAA,WAAAC,KAAA;QACA,IAAAA,KAAA;UACA/B,IAAA;YACAC,IAAA,EAAAwB,MAAA,CAAAtB;UACA,GAAAa,IAAA,WAAAC,GAAA;YACA,IAAAA,GAAA,CAAAe,IAAA;cACAP,MAAA,CAAAQ,QAAA;gBACAvB,OAAA;gBACAwB,IAAA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA"}]}