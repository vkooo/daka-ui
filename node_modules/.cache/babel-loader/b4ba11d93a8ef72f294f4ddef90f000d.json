{"remainingRequest":"/Users/weiweiwei/code/projects/init-admin/node_modules/babel-loader/lib/index.js!/Users/weiweiwei/code/projects/init-admin/src/directive/permission/hasAuth.js","dependencies":[{"path":"/Users/weiweiwei/code/projects/init-admin/src/directive/permission/hasAuth.js","mtime":1691066532980},{"path":"/Users/weiweiwei/code/projects/init-admin/babel.config.js","mtime":1690970233489},{"path":"/Users/weiweiwei/code/projects/init-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiweiwei/code/projects/init-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsLCBiaW5kaW5nKSB7CiAgICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOwogICAgdmFyIGFsbEF1dGggPSAiKjoqOioiOwogICAgdmFyIGF1dGhzID0gc3RvcmUuZ2V0dGVycyAmJiBzdG9yZS5nZXR0ZXJzLmF1dGhzOwogICAgdmFyIGZsYWcgPSBbXTsKICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGZsYWcucHVzaCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICBmbGFnID0gdmFsdWU7CiAgICB9CiAgICBpZiAoZmxhZyAmJiBmbGFnIGluc3RhbmNlb2YgQXJyYXkgJiYgZmxhZy5sZW5ndGggPiAwKSB7CiAgICAgIHZhciBhdXRoRmxhZyA9IGZsYWc7CiAgICAgIHZhciBoYXNBdXRocyA9IGF1dGhzLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gYWxsQXV0aCA9PT0gaXRlbSB8fCBhdXRoRmxhZy5pbmNsdWRlcyhpdGVtKTsKICAgICAgfSk7CiAgICAgIGlmICghaGFzQXV0aHMpIHsKICAgICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlx1OEJGN1x1OEJCRVx1N0Y2RVx1NjRDRFx1NEY1Q1x1Njc0M1x1OTY1MFx1NjgwN1x1N0I3RVx1NTAzQyIpOwogICAgfQogIH0KfTs="},{"version":3,"names":["store","inserted","el","binding","value","allAuth","auths","getters","flag","push","Array","length","authFlag","hasAuths","some","item","includes","parentNode","removeChild","Error"],"sources":["/Users/weiweiwei/code/projects/init-admin/src/directive/permission/hasAuth.js"],"sourcesContent":["import store from '@/store'\n\n\nexport default {\n  inserted(el, binding ) {\n    const { value } = binding\n    const allAuth = \"*:*:*\";\n    const auths = store.getters && store.getters.auths\n\n    let flag = []\n    if (typeof value === 'string') {\n      flag.push(value)\n    }else{\n      flag = value\n    }\n\n    if (flag && flag instanceof Array && flag.length > 0) {\n      const authFlag = flag\n\n      const hasAuths = auths.some(item => {\n        return allAuth === item || authFlag.includes(item)\n      })\n\n      if (!hasAuths) {\n        el.parentNode && el.parentNode.removeChild(el)\n      }\n    } else {\n      throw new Error(`请设置操作权限标签值`)\n    }\n  }\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,SAAS;AAG3B,eAAe;EACbC,QAAQ,WAAAA,SAACC,EAAE,EAAEC,OAAO,EAAG;IACrB,IAAQC,KAAK,GAAKD,OAAO,CAAjBC,KAAK;IACb,IAAMC,OAAO,GAAG,OAAO;IACvB,IAAMC,KAAK,GAAGN,KAAK,CAACO,OAAO,IAAIP,KAAK,CAACO,OAAO,CAACD,KAAK;IAElD,IAAIE,IAAI,GAAG,EAAE;IACb,IAAI,OAAOJ,KAAK,KAAK,QAAQ,EAAE;MAC7BI,IAAI,CAACC,IAAI,CAACL,KAAK,CAAC;IAClB,CAAC,MAAI;MACHI,IAAI,GAAGJ,KAAK;IACd;IAEA,IAAII,IAAI,IAAIA,IAAI,YAAYE,KAAK,IAAIF,IAAI,CAACG,MAAM,GAAG,CAAC,EAAE;MACpD,IAAMC,QAAQ,GAAGJ,IAAI;MAErB,IAAMK,QAAQ,GAAGP,KAAK,CAACQ,IAAI,CAAC,UAAAC,IAAI,EAAI;QAClC,OAAOV,OAAO,KAAKU,IAAI,IAAIH,QAAQ,CAACI,QAAQ,CAACD,IAAI,CAAC;MACpD,CAAC,CAAC;MAEF,IAAI,CAACF,QAAQ,EAAE;QACbX,EAAE,CAACe,UAAU,IAAIf,EAAE,CAACe,UAAU,CAACC,WAAW,CAAChB,EAAE,CAAC;MAChD;IACF,CAAC,MAAM;MACL,MAAM,IAAIiB,KAAK,+DAAa,CAAC;IAC/B;EACF;AACF,CAAC"}]}