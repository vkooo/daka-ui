{"remainingRequest":"/Users/weiweiwei/code/projects/clockin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weiweiwei/code/projects/clockin/src/views/product/gxy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weiweiwei/code/projects/clockin/src/views/product/gxy.vue","mtime":1693214115589},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldCwgc2F2ZSB9IGZyb20gIkAvYXBpL3Byb2R1Y3QvZ3h5IjsKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhY3RpdmVOYW1lOiAnY2xvY2tfaW5zJywKICAgICAgICAgICAgZm9ybTogewogICAgICAgICAgICAgICAgY2xvY2tfaW5zOiBbXSwKICAgICAgICAgICAgICAgIHJlcG9ydHM6IFtdLAogICAgICAgICAgICAgICAgZnVsbHM6IFtdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJ1bGVzOiB7CiAgICAgICAgICAgICAgICBuYW1lOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+WQjeensOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBwcmljZTogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfku7fmoLzkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgZGF5OiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+WkqeaVsOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCl7CiAgICAgICAgZ2V0KCkudGhlbihyZXM9PnsKICAgICAgICAgICAgdGhpcy5mb3JtID0gcmVzLmRhdGEKICAgICAgICB9KQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhZGREYXkoKXsKICAgICAgICAgICAgdGhpcy5mb3JtW3RoaXMuYWN0aXZlTmFtZV0ucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgICAgIHByaWNlOiAwLAogICAgICAgICAgICAgICAgZGF5OiAwLAogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHJlbW92ZShpbmRleCl7CiAgICAgICAgICAgIHRoaXMuZm9ybVt0aGlzLmFjdGl2ZU5hbWVdLnNwbGljZShpbmRleCwgMSkKICAgICAgICB9LAogICAgICAgIG9uU3VibWl0KCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0pCiAgICAgICAgICAgIHRoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICAgICAgICBpZih2YWxpZCl7CiAgICAgICAgICAgICAgICAgICAgc2F2ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZm9ybQogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzPT57CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5jb2RlID09IDIwMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["gxy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gxy.vue","sourceRoot":"src/views/product","sourcesContent":["<template>\n    <div class=\"app-container\">\n        <el-form ref=\"ruleForm\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n            <el-tabs v-model=\"activeName\">\n                <el-tab-pane label=\"打卡\" name=\"clock_ins\">\n                    <el-form-item\n                        v-for=\"(item, index) in form.clock_ins\"\n                        :key=\"index\"\n                        required\n                        label-width=\"0\"\n                    >\n                        <el-row :gutter=\"20\">\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"名称\" :prop=\"'clock_ins.'+index+'.name'\" :rules=\"rules.name\">\n                                    <el-input placeholder=\"请输入名称\" v-model=\"item.name\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"价格\" :prop=\"'clock_ins.'+index+'.price'\" :rules=\"rules.price\">\n                                    <el-input-number placeholder=\"请输入价格\" v-model=\"item.price\" :precision=\"2\" :step=\"0.1\"></el-input-number>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"时间\" :prop=\"'clock_ins.'+index+'.day'\" :rules=\"rules.day\">\n                                    <el-input type=\"number\" placeholder=\"请输入有效天数\" v-model=\"item.day\">\n                                        <template slot=\"append\">天</template>\n                                    </el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-button @click.prevent=\"remove(index)\">删除</el-button>\n                            </el-col>\n                        </el-row>\n                        \n                    </el-form-item>\n                </el-tab-pane>\n                <el-tab-pane label=\"报告\" name=\"reports\">\n                    <el-form-item\n                        v-for=\"(item, index) in form.reports\"\n                        :key=\"index\"\n                        required\n                        label-width=\"0\"\n                    >\n                        <el-row :gutter=\"20\">\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"名称\" :prop=\"'reports.'+index+'.name'\" :rules=\"rules.name\">\n                                    <el-input placeholder=\"请输入名称\" v-model=\"item.name\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"价格\" :prop=\"'reports.'+index+'.price'\" :rules=\"rules.price\">\n                                    <el-input-number placeholder=\"请输入价格\" v-model=\"item.price\" :precision=\"2\" :step=\"0.1\"></el-input-number>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"时间\" :prop=\"'reports.'+index+'.day'\" :rules=\"rules.day\">\n                                    <el-input type=\"number\" placeholder=\"请输入有效天数\" v-model=\"item.day\">\n                                        <template slot=\"append\">天</template>\n                                    </el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-button @click.prevent=\"remove(index)\">删除</el-button>\n                            </el-col>\n                        </el-row>\n                        \n                    </el-form-item>\n                </el-tab-pane>\n                <el-tab-pane label=\"全包\" name=\"fulls\">\n                    <el-form-item\n                        v-for=\"(item, index) in form.fulls\"\n                        :key=\"index\"\n                        required\n                        label-width=\"0\"\n                    >\n                        <el-row :gutter=\"20\">\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"名称\" :prop=\"'fulls.'+index+'.name'\" :rules=\"rules.name\">\n                                    <el-input placeholder=\"请输入名称\" v-model=\"item.name\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"价格\" :prop=\"'fulls.'+index+'.price'\" :rules=\"rules.price\">\n                                    <el-input-number placeholder=\"请输入价格\" v-model=\"item.price\" :precision=\"2\" :step=\"0.1\"></el-input-number>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-form-item label=\"时间\" :prop=\"'fulls.'+index+'.day'\" :rules=\"rules.day\">\n                                    <el-input type=\"number\" placeholder=\"请输入有效天数\" v-model=\"item.day\">\n                                        <template slot=\"append\">天</template>\n                                    </el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <el-button @click.prevent=\"remove(index)\">删除</el-button>\n                            </el-col>\n                        </el-row>\n                        \n                    </el-form-item>\n                </el-tab-pane>\n            </el-tabs>\n            <el-form-item>\n                <el-button @click=\"addDay\">新增时间</el-button>\n                <el-button type=\"primary\" @click=\"onSubmit\" v-throttle=\"2000\">提交</el-button>\n            </el-form-item>\n            \n        </el-form>\n    </div>\n</template>\n<script>\nimport { get, save } from \"@/api/product/gxy\";\nexport default {\n    data() {\n        return {\n            activeName: 'clock_ins',\n            form: {\n                clock_ins: [],\n                reports: [],\n                fulls: []\n            },\n            rules: {\n                name: [\n                    { required: true, message: '名称不能为空', trigger: 'change' }\n                ],\n                price: [\n                    { required: true, message: '价格不能为空', trigger: 'change' }\n                ],\n                day: [\n                    { required: true, message: '天数不能为空', trigger: 'change' }\n                ],\n            }\n        };\n    },\n    created: function(){\n        get().then(res=>{\n            this.form = res.data\n        })\n    },\n    methods: {\n        addDay(){\n            this.form[this.activeName].push({\n                name: '',\n                price: 0,\n                day: 0,\n            });\n        },\n        remove(index){\n            this.form[this.activeName].splice(index, 1)\n        },\n        onSubmit() {\n            console.log(this.form)\n            this.$refs.ruleForm.validate((valid) => {\n                if(valid){\n                    save({\n                        data: this.form\n                    }).then(res=>{\n                        if(res.code == 200){\n                            this.$message({\n                                message: \"操作成功\",\n                                type: \"success\"\n                            })\n                        }\n                    })\n                }\n            })\n        }\n    }\n};\n</script>"]}]}