{"remainingRequest":"/Users/weiweiwei/code/projects/clockin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weiweiwei/code/projects/clockin/src/components/QuiiEditor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weiweiwei/code/projects/clockin/src/components/QuiiEditor/index.vue","mtime":1693377958644},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiweiwei/code/projects/clockin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOW8leWFpeagt+W8j+WSjHF1aWxsRWRpdG9yCmltcG9ydCB7IHF1aWxsRWRpdG9yIH0gZnJvbSAndnVlLXF1aWxsLWVkaXRvcicKaW1wb3J0ICJxdWlsbC9kaXN0L3F1aWxsLmNvcmUuY3NzIjsgLy8gaW1wb3J0IHN0eWxlcwppbXBvcnQgInF1aWxsL2Rpc3QvcXVpbGwuc25vdy5jc3MiOyAvLyBmb3Igc25vdyB0aGVtZQppbXBvcnQgInF1aWxsL2Rpc3QvcXVpbGwuYnViYmxlLmNzcyI7IC8vIGZvciBidWJibGUgdGhlbWUKCi8vIOW3peWFt+agj+mFjee9rumhuQpjb25zdCB0b29sYmFyT3B0aW9ucyA9IFsKICAgIC8vIOWKoOeylyDmlpzkvZMg5LiL5YiS57q/IOWIoOmZpOe6vyAtLS0tLVsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZSddCiAgICBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdzdHJpa2UnXSwKICAgIC8vIOW8leeUqCAg5Luj56CB5Z2XLS0tLS1bJ2Jsb2NrcXVvdGUnLCAnY29kZS1ibG9jayddCiAgICBbJ2Jsb2NrcXVvdGUnLCAnY29kZS1ibG9jayddLAogICAgLy8gMeOAgTIg57qn5qCH6aKYLS0tLS1beyBoZWFkZXI6IDEgfSwgeyBoZWFkZXI6IDIgfV0KICAgIFt7IGhlYWRlcjogMSB9LCB7IGhlYWRlcjogMiB9XSwKICAgIC8vIOacieW6j+OAgeaXoOW6j+WIl+ihqC0tLS0tW3sgbGlzdDogJ29yZGVyZWQnIH0sIHsgbGlzdDogJ2J1bGxldCcgfV0KICAgIFt7IGxpc3Q6ICdvcmRlcmVkJyB9LCB7IGxpc3Q6ICdidWxsZXQnIH1dLAogICAgLy8g5LiK5qCHL+S4i+aghy0tLS0tW3sgc2NyaXB0OiAnc3ViJyB9LCB7IHNjcmlwdDogJ3N1cGVyJyB9XQogICAgW3sgc2NyaXB0OiAnc3ViJyB9LCB7IHNjcmlwdDogJ3N1cGVyJyB9XSwKICAgIC8vIOe8qei/my0tLS0tW3sgaW5kZW50OiAnLTEnIH0sIHsgaW5kZW50OiAnKzEnIH1dCiAgICBbeyBpbmRlbnQ6ICctMScgfSwgeyBpbmRlbnQ6ICcrMScgfV0sCiAgICAvLyDmlofmnKzmlrnlkJEtLS0tLVt7J2RpcmVjdGlvbic6ICdydGwnfV0KICAgIFt7IGRpcmVjdGlvbjogJ3J0bCcgfV0sCiAgICAvLyDlrZfkvZPlpKflsI8tLS0tLVt7IHNpemU6IFsnc21hbGwnLCBmYWxzZSwgJ2xhcmdlJywgJ2h1Z2UnXSB9XQogICAgW3sgc2l6ZTogWydzbWFsbCcsIGZhbHNlLCAnbGFyZ2UnLCAnaHVnZSddIH1dLAogICAgLy8g5qCH6aKYLS0tLS1beyBoZWFkZXI6IFsxLCAyLCAzLCA0LCA1LCA2LCBmYWxzZV0gfV0KICAgIFt7IGhlYWRlcjogWzEsIDIsIDMsIDQsIDUsIDYsIGZhbHNlXSB9XSwKICAgIC8vIOWtl+S9k+minOiJsuOAgeWtl+S9k+iDjOaZr+minOiJsi0tLS0tW3sgY29sb3I6IFtdIH0sIHsgYmFja2dyb3VuZDogW10gfV0KICAgIFt7IGNvbG9yOiBbXSB9LCB7IGJhY2tncm91bmQ6IFtdIH1dLAogICAgLy8g5a2X5L2T56eN57G7LS0tLS1beyBmb250OiBbXSB9XQogICAgW3sgZm9udDogW10gfV0sCiAgICAvLyDlr7npvZDmlrnlvI8tLS0tLVt7IGFsaWduOiBbXSB9XQogICAgW3sgYWxpZ246IFtdIH1dLAogICAgLy8g5riF6Zmk5paH5pys5qC85byPLS0tLS1bJ2NsZWFuJ10KICAgIFsnY2xlYW4nXSwKICAgIC8vIOmTvuaOpeOAgeWbvueJh+OAgeinhumikS0tLS0tWydsaW5rJywgJ2ltYWdlJywgJ3ZpZGVvJ10KICAgIFsnaW1hZ2UnXQpdCgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgcXVpbGxFZGl0b3IKICAgIH0sCiAgICBwcm9wczogewogICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogIiIsCiAgICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVmTmFtZTogJ1F1aWxsRWRpdG9yJyArIHRoaXMuX3VpZCwKICAgICAgICAgICAgdGltZXI6IG51bGwsCiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgICBjb250ZW50OiAnJywKICAgICAgICAgICAgZWRpdG9yT3B0aW9uOiB7CiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeato+aWhycsCiAgICAgICAgICAgICAgICB0aGVtZTogJ3Nub3cnLAogICAgICAgICAgICAgICAgbW9kdWxlczogewogICAgICAgICAgICAgICAgICAgIHRvb2xiYXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0b29sYmFyT3B0aW9ucywKICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAodmFsdWUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6LCD55SoZWxlbWVudOeahOWbvueJh+S4iuS8oOe7hOS7tgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBpY3R1cmVSZWYuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1aWxsLmZvcm1hdCgnaW1hZ2UnLCBmYWxzZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy8g5aSx5Y6754Sm54K55LqL5Lu2CiAgICAgICAgb25FZGl0b3JCbHVyKGUpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29uRWRpdG9yQmx1cjogJywgZSkKICAgICAgICB9LAogICAgICAgIC8vIOiOt+W+l+eEpueCueS6i+S7tgogICAgICAgIG9uRWRpdG9yRm9jdXMoZSkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb25FZGl0b3JGb2N1czogJywgZSkKICAgICAgICB9LAogICAgICAgIC8vIOWGheWuueaUueWPmOS6i+S7tgogICAgICAgIG9uRWRpdG9yQ2hhbmdlKGUpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29uRWRpdG9yQ2hhbmdlOiAnLCBlKQogICAgICAgIH0sCiAgICAgICAgc2VsZWN0SW1hZ2UoZGF0YSkgewogICAgICAgICAgICBsZXQgcXVpbGwgPSB0aGlzLiRyZWZzW3RoaXMucmVmTmFtZV0ucXVpbGwKICAgICAgICAgICAgbGV0IHJhbmdlID0gcXVpbGwuc2VsZWN0aW9uLnNhdmVkUmFuZ2U7CiAgICAgICAgICAgIGlmICghcmFuZ2UpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+WwhuWFieagh+enu+iHs+i+k+WFpeahhuWGhScpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDmj5LlhaXlm77niYfliLDlhYnmoIfkvY3nva4KICAgICAgICAgICAgcXVpbGwuaW5zZXJ0RW1iZWQocmFuZ2UuaW5kZXgsICdpbWFnZScsIGRhdGEudXJsc1swXSkKICAgICAgICAgICAgcXVpbGwuc2V0U2VsZWN0aW9uKHJhbmdlLmluZGV4ICsgMSk7CgogICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpCiAgICAgICAgfSwKICAgICAgICB1cGRhdGVWYWx1ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMudGltZXIpIHsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZVZhbHVlJywgdGhpcy5jb250ZW50KQogICAgICAgICAgICB9LCAzMDApCiAgICAgICAgfSwKICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIHZhbHVlKG5ld1ZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IG5ld1ZhbHVlCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/QuiiEditor","sourcesContent":["<template>\n    <div class=\"editor_wrap\">\n        <quill-editor v-model=\"content\" :ref=\"refName\" class=\"editor\" :disabled=\"isDisabled\" :options=\"editorOption\"\n            @blur=\"onEditorBlur\" @focus=\"onEditorFocus\" @change=\"onEditorChange\" @input=\"updateValue\"></quill-editor>\n        <VkPicture ref=\"pictureRef\" :maxCount=\"1\" @selectImage=\"selectImage\" />\n    </div>\n</template>\n   \n<script>\n// 引入样式和quillEditor\nimport { quillEditor } from 'vue-quill-editor'\nimport \"quill/dist/quill.core.css\"; // import styles\nimport \"quill/dist/quill.snow.css\"; // for snow theme\nimport \"quill/dist/quill.bubble.css\"; // for bubble theme\n\n// 工具栏配置项\nconst toolbarOptions = [\n    // 加粗 斜体 下划线 删除线 -----['bold', 'italic', 'underline', 'strike']\n    ['bold', 'italic', 'underline', 'strike'],\n    // 引用  代码块-----['blockquote', 'code-block']\n    ['blockquote', 'code-block'],\n    // 1、2 级标题-----[{ header: 1 }, { header: 2 }]\n    [{ header: 1 }, { header: 2 }],\n    // 有序、无序列表-----[{ list: 'ordered' }, { list: 'bullet' }]\n    [{ list: 'ordered' }, { list: 'bullet' }],\n    // 上标/下标-----[{ script: 'sub' }, { script: 'super' }]\n    [{ script: 'sub' }, { script: 'super' }],\n    // 缩进-----[{ indent: '-1' }, { indent: '+1' }]\n    [{ indent: '-1' }, { indent: '+1' }],\n    // 文本方向-----[{'direction': 'rtl'}]\n    [{ direction: 'rtl' }],\n    // 字体大小-----[{ size: ['small', false, 'large', 'huge'] }]\n    [{ size: ['small', false, 'large', 'huge'] }],\n    // 标题-----[{ header: [1, 2, 3, 4, 5, 6, false] }]\n    [{ header: [1, 2, 3, 4, 5, 6, false] }],\n    // 字体颜色、字体背景颜色-----[{ color: [] }, { background: [] }]\n    [{ color: [] }, { background: [] }],\n    // 字体种类-----[{ font: [] }]\n    [{ font: [] }],\n    // 对齐方式-----[{ align: [] }]\n    [{ align: [] }],\n    // 清除文本格式-----['clean']\n    ['clean'],\n    // 链接、图片、视频-----['link', 'image', 'video']\n    ['image']\n]\n\nexport default {\n    components: {\n        quillEditor\n    },\n    props: {\n        value: {\n            type: String,\n            default: \"\",\n        }\n    },\n    data() {\n        return {\n            refName: 'QuillEditor' + this._uid,\n            timer: null,\n            isDisabled: false,\n            content: '',\n            editorOption: {\n                placeholder: '请输入正文',\n                theme: 'snow',\n                modules: {\n                    toolbar: {\n                        container: toolbarOptions,\n                        handlers: {\n                            image: (value) => {\n                                if (value) {\n                                    // 调用element的图片上传组件\n                                    this.$refs.pictureRef.dialogVisible = true\n                                } else {\n                                    this.quill.format('image', false)\n                                }\n                            }\n                        },\n                    },\n                }\n            }\n        }\n    },\n    methods: {\n        // 失去焦点事件\n        onEditorBlur(e) {\n            // console.log('onEditorBlur: ', e)\n        },\n        // 获得焦点事件\n        onEditorFocus(e) {\n            // console.log('onEditorFocus: ', e)\n        },\n        // 内容改变事件\n        onEditorChange(e) {\n            // console.log('onEditorChange: ', e)\n        },\n        selectImage(data) {\n            let quill = this.$refs[this.refName].quill\n            let range = quill.selection.savedRange;\n            if (!range) {\n                this.$message.error('请将光标移至输入框内')\n                return\n            }\n            // 插入图片到光标位置\n            quill.insertEmbed(range.index, 'image', data.urls[0])\n            quill.setSelection(range.index + 1);\n\n            this.$forceUpdate()\n        },\n        updateValue() {\n            if (this.timer) {\n                clearTimeout(this.timer)\n            }\n            this.timer = setTimeout(() => {\n                this.$emit('updateValue', this.content)\n            }, 300)\n        },\n    },\n    watch: {\n        value(newValue) {\n            this.content = newValue\n        }\n    }\n}\n</script>\n   \n<style lang=\"scss\" scoped>\n.editor {\n    line-height: normal !important;\n    height: 800px;\n}\n\n.ql-snow .ql-tooltip[data-mode=link]::before {\n    content: \"请输入链接地址:\";\n}\n\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n    border-right: 0px;\n    content: '保存';\n    padding-right: 0px;\n}\n\n.ql-snow .ql-tooltip[data-mode=video]::before {\n    content: \"请输入视频地址:\";\n}\n\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\n    content: '14px';\n}\n\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n    content: '10px';\n}\n\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n    content: '18px';\n}\n\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n    content: '32px';\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\n    content: '文本';\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n    content: '标题1';\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n    content: '标题2';\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n    content: '标题3';\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n    content: '标题4';\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\n    content: '标题5';\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\n    content: '标题6';\n}\n\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\n    content: '标准字体';\n}\n\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n    content: '衬线字体';\n}\n\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n    content: '等宽字体';\n}</style>"]}]}